<ng-container *ngIf="!vehicles.length; else showTable">

    <div class="p-4 absolute inset-0 flex flex-wrap content-center justify-center">
        <mat-progress-spinner [mode]="'indeterminate'"></mat-progress-spinner>
    </div>

</ng-container>

<ng-template #showTable>
    <div class="wrapper">
        <div class="container mat-elevation-z8">
            <table mat-table [dataSource]="dataSource" matSort>

                <!-- Vendor Column -->
                <ng-container matColumnDef="vendor" sticky>
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Vendor </th>
                    <td mat-cell *matCellDef="let element"> {{element.vendor}} </td>
                </ng-container>

                <!-- Link Column -->
                <ng-container matColumnDef="link">
                    <th mat-header-cell *matHeaderCellDef>  </th>
                    <td mat-cell *matCellDef="let element">
                        <button mat-icon-button aria-label="Log btn" color="primary" matTooltip="open log in a new tab" (click)="openLog(element)">
                            <mat-icon>open_in_new</mat-icon>
                        </button>
                    </td>
                </ng-container>

                <!-- Id Column -->
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> ID </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                </ng-container>

                <!-- createdAt Column -->
                <ng-container matColumnDef="createdAt">
                    <th mat-header-cell *matHeaderCellDef> createdAt </th>
                    <td mat-cell *matCellDef="let element"> {{element.createdAt}} </td>
                </ng-container>

                <!-- userId Column -->
                <ng-container matColumnDef="userId" stickyEnd>
                    <th mat-header-cell *matHeaderCellDef> User </th>
                    <td mat-cell *matCellDef="let element"> {{element.userId}} </td>
                </ng-container>

                <!-- Total row -->
                <ng-container matColumnDef="total">
                    <td mat-footer-cell *matFooterCellDef colspan="5">
                        Total vehicles: {{total}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr mat-footer-row *matFooterRowDef="['total']; sticky: true" class="footer-row"></tr>
            </table>
        </div>
    </div>
</ng-template>



